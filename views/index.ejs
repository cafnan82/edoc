<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  </head>
  <body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
      <a class="navbar-brand" href="#">DOC</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarsExampleDefault"
        aria-controls="navbarsExampleDefault"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarsExampleDefault">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="/"
              >Home<span class="sr-only">(current)</span></a
            >
          </li>
          <li>
            <form
              action="/search"
              method="POST"
              class="form-inline my-2 my-lg-0"
            >
              <input
                class="form-control mr-sm-2"
                type="search"
                name="keyword"
                placeholder="Search"
                aria-label="Search"
              />
              <button
                class="btn btn-outline-success my-2 my-sm-0"
                type="submit"
              >
                Search
              </button>
            </form>
          </li>
        </ul>
      </div>
    </nav>
    <div class="container">
      <br />
      <br />
      <%- messages('messages', locals) %> <% if (errors) {%> <%
      errors.forEach(function(error){ %>

      <div class="alert alert-danger"><%= error.msg %></div>

      <% }); %> <% } %>
    </div>
    <br />
    <br />
    <br />
    <br />
    <div class="container">
      <a href="add-doc" class="btn btn-primary">Add document</a>
    </div>
    <main role="main" class="container">
      <% if (count > 0) { %>

      <table class="table table-striped" style="margin-top: 50px">
        <thead>
          <tr class="home">
            <th>Title</th>
            <th>View</th>

            <th>Edit</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tbody>
          <% doc.forEach(function(doc) { %>
          <tr>
            <td><%= doc.title %></td>

            <td><a href="/view-doc/<%=doc._id %>">View</a></td>
            <td><a href="/edit-doc/<%=doc._id %>">Edit</a></td>

            <td>
              <a
                onclick="return confirm('Are you sure you want to delete this item?')"
                href="/delete-doc/<%=doc._id %>"
                >Delete</a
              >
            </td>
          </tr>
          <% }); %>
        </tbody>
      </table>

      <% } else { %>
      <br />
      <h3 style="padding-top: 100px" ; class="text-center">
        There are no documents
      </h3>
      <% } %>
    </main>
    <!-- /.container -->
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script>
      window.jQuery ||
        document.write(
          '<script src="/docs/4.5/assets/js/vendor/jquery.slim.min.js"><\/script>'
        );
    </script>
    <script
      src="/docs/4.5/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-LtrjvnR4Twt/qOuYxE721u19sVFLVSA4hf/rRt6PrZTmiPltdZcI7q7PXQBYTKyf"
      crossorigin="anonymous"
    ></script>
  </body>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
</html>
